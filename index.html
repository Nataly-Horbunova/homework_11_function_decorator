<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Decorator function</title>
</head>

<body>
    <script>

        function foo(a, b) {
            return a + b;
        }

        function simpleCache(func) {
            const cache = [];

            return function (...args) {
                const fnArgs = String(args);
                const findArgs = cache.find(item => item.arguments === fnArgs);

                if (!findArgs) {
                    const result = func(...args);
                    newCacheObj = {
                        'arguments': fnArgs,
                        result
                    }
                    cache.push(newCacheObj);

                    if (cache.length > 10) {
                        cache.shift();
                    }

                    return result;

                } else {
                    return findArgs.result;
                }

            }


        }

        const decoratedFoo = simpleCache(foo);
        console.log(decoratedFoo(2, 5));
        console.log(decoratedFoo(2, 5));
        console.log(decoratedFoo(2, 4));


    </script>


</body>

</html>